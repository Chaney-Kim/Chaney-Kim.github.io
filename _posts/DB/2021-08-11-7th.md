---
layout: single
title: "DB) 21.08.11"
categories: DB
---
## 게시물 상세보기

작성한 게시물을 수정하거나 삭제하는 작업을 해보자!

게시물을 수정하기 위해선 index 화면에서 게시물의 제목을 클릭하면 게시물이 나오도록 해야한다.

상세페이지에는 게시물 번호, 게시물 제목, 게시물 내용, 작성자 정보가 나와야한다.

```
String id = request.getParameter("id");
ResultSet rs = stmt.executeQuery("select * from article where id = " + id);
	
	if(rs.next()) {
		
		int aid = rs.getInt("id");
		String title = rs.getString("title");
		String body = rs.getString("body");
		int memberId = rs.getInt("memberId");
		String regDate = rs.getString("regDate");
		int hit = rs.getInt("hit");
}
```
request를 사용하여 게시물의 id(PK) 을 받아 조건(where id = id)을 만족하는 id의 게시물의 id. title, body, memberId, regDate, hit를 가져온다.

html을 사용하여 작성해주면 detail.jsp가 완성된다.

게시물 목록(index.jsp)에서 제목을 클릭했을 때, 상세보기가 진행되어야 하므로 index.jsp의 html 코드를 조금 손봐주도록 하자.

```
<div>
		<div class="col title"><a href="/web-example/detail.jsp?id=<%= id %>"><%= title %></a></div>
</div>
```
title에 detail.jsp로 이동하는 링크를 걸어준다. 사용자가 클릭하는 제목의 게시물의 상세보기 창이 열려야 하므로 앞서 배웠던 ? 연산자를 사용하여 조건을 걸어준다.

[결과창]

![image](https://user-images.githubusercontent.com/52832956/129041602-133b9393-bc8c-4cdf-bb05-f6cdc7ca4670.png)

10번을 클릭해보자!

![image](https://user-images.githubusercontent.com/52832956/129041668-d0e83f30-92d3-45fb-b3e5-7fc35cc5c6c7.png)

Gooood~ (*•̀ᴗ•́*)و ̑̑

## 게시물 수정

게시물 상세 페이지에 수정 링크를 생성하고 수정 링크를 눌렀을 때, 수정 form 페이지로 이동해야한다.

각각의 입력 form안에는 기존의 데이터가 그대로 들어있어야하며, 제출 버튼을 누르면 해당 게시물의 수정이 DB에 반영되어야 한다.

수정이 완료된 후에는 해당 게시물의 상세페이지로 다시 이동되게끔 한다.

## 게시물 삭제

게시물 상세 페이지에 삭제 링크를 생성하고, 삭제 링크를 눌렀을 때, 해당 게시물을 삭제하고 index 페이지로 이동할 수 있게 한다.

