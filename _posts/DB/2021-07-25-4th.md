---
layout: single
title: "[수정중]DB) 21.07.25"
categories: DB
---
## JSP(JavaServer Pages) 사용

사실, JSP와 서블릿이 하는 일이 같아서 별반 다른점이 없어보이지만 JSP는 HTML 내부에 Java 코드가 들어감으로써, HTML 코드를 작성하기 간편하다는 장점이 있다.

나는 서블릿으로는 데이터를 직접 삽입, 변경, 삭제 등의 업무를 주로하고 JSP로는 웹사이트 상의 출력 업무를 하려고 한다.

Dynamic web project를 만들고 jsp 프로젝트를 실행해서 아주 간단하게 웹페이지 구현만 해준다. 

보기 편하게 임의의 데이터도 하나 넣어주었다.

```
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<style>
.col {
	display: inline-block;
	width: 50px;
	font-size: 10px;
}

.title {
	width: 150px;
}
</style>
<body>
	<div class="col">번호</div>
	<div class="col title">제목</div>
	<div class="col">작성자</div>
	<div class="col">작성일</div>
	<div class="col">조회수</div>
	<div class="col">좋아요</div>
	<hr>
	<div>
		<div class="col">1</div>
		<div class="col title">안녕하새우</div>
		<div class="col">hieee_yoni이다</div>
		<div class="col">2021.07.25</div>
		<div class="col">0</div>
		<div class="col">0</div>
	</div>
</body>
</html>
```
제목과 내용, 시간에 알맞는 길이도 설정해주었다.

![image](https://user-images.githubusercontent.com/52832956/126889903-1a94d3cf-a8e8-470f-8808-47f34210a51f.png)

## JSP을 사용해 DB 데이터와 연결
```
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ page import="java.sql.Connection"%>
<%@ page import="java.sql.Statement"%>
<%@ page import="java.sql.DriverManager"%>
<%@ page import="java.sql.ResultSet"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<h1>DB 데이터 가져오기</h1>
	<%
Class.forName("com.mysql.cj.jdbc.Driver");
String url = "jdbc:mysql://localhost:3306/k1?serverTimezone=UTC";
String user = "root";
String password = "";

Connection conn = DriverManager.getConnection(url, user, password); 
Statement stmt = conn.createStatement();
ResultSet rs = stmt.executeQuery("select * from article");

while(rs.next()) {
	
	String title = rs.getString("title");
	String body = rs.getString("body");
	
	out.println(title);
	out.println(body);
	out.println("<hr>");
}

%>

</body>
</html>
```
